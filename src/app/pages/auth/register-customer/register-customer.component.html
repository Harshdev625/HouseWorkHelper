<div class="register-container">
  <div class="register-card">
    <div class="register-header">
      <div class="logo">
        <span class="logo-icon material-icons">home_work</span>
        <span class="logo-text">HouseMate</span>
      </div>
    </div>

    <div class="register-content">
      <div class="register-left">
        <h2 class="title">New User?</h2>
        <h1 class="main-title">REGISTER NOW!</h1>
        <p class="subtitle">
          To connect with verified, trained home-service experts for ASAP or scheduled services.
          Fast, transparent, and reliable.
        </p>

        <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()" class="form">
          <!-- Full Name -->
          <div class="form-group">
            <label class="label">
              <span class="material-icons label-icon">person</span>
              Full Name
            </label>
            <input
              type="text"
              formControlName="fullName"
              class="input"
              placeholder="e.g., John Doe"
              [class.error]="registrationForm.get('fullName')?.invalid && registrationForm.get('fullName')?.touched"
            />
            <span class="error-message" *ngIf="registrationForm.get('fullName')?.invalid && registrationForm.get('fullName')?.touched">
              {{ getErrorMessage('fullName') }}
            </span>
          </div>

          <!-- Age -->
          <div class="form-group">
            <label class="label">
              <span class="material-icons label-icon">cake</span>
              Age
            </label>
            <input
              type="number"
              formControlName="age"
              class="input"
              placeholder="e.g., 25"
              [class.error]="registrationForm.get('age')?.invalid && registrationForm.get('age')?.touched"
            />
            <span class="error-message" *ngIf="registrationForm.get('age')?.invalid && registrationForm.get('age')?.touched">
              {{ getErrorMessage('age') }}
            </span>
          </div>

          <!-- Location/Address -->
          <div class="form-group">
            <label class="label">
              <span class="material-icons label-icon">location_on</span>
              Location/Address
            </label>
            <textarea
              formControlName="address"
              class="input textarea"
              placeholder="e.g., 123 MG Road, Bangalore"
              rows="2"
              [class.error]="registrationForm.get('address')?.invalid && registrationForm.get('address')?.touched"
            ></textarea>
            <span class="error-message" *ngIf="registrationForm.get('address')?.invalid && registrationForm.get('address')?.touched">
              {{ getErrorMessage('address') }}
            </span>
          </div>

          <!-- Mobile Number -->
          <div class="form-group">
            <label class="label">
              <span class="material-icons label-icon">phone</span>
              Mobile Number
            </label>
            <input
              type="tel"
              formControlName="phone"
              class="input"
              placeholder="e.g., +919876543210"
              [class.error]="registrationForm.get('phone')?.invalid && registrationForm.get('phone')?.touched"
            />
            <span class="error-message" *ngIf="registrationForm.get('phone')?.invalid && registrationForm.get('phone')?.touched">
              {{ getErrorMessage('phone') }}
            </span>
          </div>

          <!-- Email -->
          <div class="form-group">
            <label class="label">
              <span class="material-icons label-icon">email</span>
              Email
            </label>
            <input
              type="email"
              formControlName="email"
              class="input"
              placeholder="e.g., john@example.com"
              [class.error]="registrationForm.get('email')?.invalid && registrationForm.get('email')?.touched"
            />
            <span class="error-message" *ngIf="registrationForm.get('email')?.invalid && registrationForm.get('email')?.touched">
              {{ getErrorMessage('email') }}
            </span>
          </div>

          <!-- Password -->
          <div class="form-group">
            <label class="label">
              <span class="material-icons label-icon">lock</span>
              Password
            </label>
            <input
              type="password"
              formControlName="password"
              class="input"
              placeholder="Enter strong password"
              [class.error]="registrationForm.get('password')?.invalid && registrationForm.get('password')?.touched"
            />
            <span class="error-message" *ngIf="registrationForm.get('password')?.invalid && registrationForm.get('password')?.touched">
              {{ getErrorMessage('password') }}
            </span>
          </div>

          <!-- Error Message -->
          <div class="alert alert-error" *ngIf="error$ | async as error">
            {{ error }}
          </div>

          <!-- Submit Button -->
          <button type="submit" class="btn-submit" [disabled]="loading$ | async">
            <span *ngIf="!(loading$ | async)">REGISTER</span>
            <span *ngIf="loading$ | async">REGISTERING...</span>
          </button>

          <!-- Terms -->
          <p class="terms">
            By registering, you agree to our 
            <a href="#" class="link">Terms of Service</a> and 
            <a href="#" class="link">Privacy Policy</a>
          </p>

          <!-- Back to Home -->
          <a routerLink="/" class="back-link">Back to home</a>
        </form>
      </div>

      <div class="register-right">
        <div class="illustration">
          <div class="cleaning-tools">ðŸ§¹ðŸª£ðŸ§½</div>
        </div>
      </div>
    </div>
  </div>
</div>
